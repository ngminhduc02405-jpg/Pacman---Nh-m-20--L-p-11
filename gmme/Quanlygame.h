#pragma once
#include "NguoiChoi.h"
#include "Ma.h"
#include "GiaoDienGame.h"
#include "solieu.h"
#include <graphics.h>
#include <mmsystem.h>
#include <string>
#include <vector>
#include <fstream>
#include <iostream>
#include <cstdlib>
#include <ctime>
#include <algorithm>
#pragma comment(lib, "winmm.lib")
class QuanLyGame {
private:
    NguoiChoi nguoiChoi;
    vector<Ma> danhSachMa;
    GiaoDienGame giaoDien; 
    string tenNguoiChoi;
    int diem;
    int mang;
    bool nhacBat;
    char map[SO_HANG_MAP][SO_COT_MAP + 1];
    vector<DiemNguoiChoi> bangXepHang;
    char man1[SO_HANG_MAP][SO_COT_MAP + 1] = {
        "####################", "#..................#", "#..................#", "#..................#",
        "#..................#", "#..................#", "#..................#", "#..................#",
        "#..................#", "#..................#", "#..................#", "#..................#",
        "#..................#", "#..................#", "#..................#", "#..................#", "####################"
    };
    char man2[SO_HANG_MAP][SO_COT_MAP + 1] = {
        "####################", "#..................#", "#..##############..#", "#..#............#..#",
        "#..#............#..#", "#..#............#..#", "#..................#", "#..................#",
        "#..................#", "#..................#", "#..##############..#", "#..#............#..#",
        "#..#............#..#", "#..#............#..#", "#..................#", "#..................#", "####################"
    };
    char man3[SO_HANG_MAP][SO_COT_MAP + 1] = {
        "####################", "#..................#", "#..................#", "#...####...####....#",
        "#..................#", "#..................#", "#..##..........##..#", "#..................#",
        "#..................#", "#..##..........##..#", "#..................#", "#..................#",
        "#...####...####....#", "#..................#", "#..................#", "#..................#", "####################"
    };
    char man4[SO_HANG_MAP][SO_COT_MAP + 1] = {
        "####################", "#..................#", "#.######..######..#", "#.#............#..#",
        "#.#............#..#", "#..................#", "#..................#", "####...........####",
        "####...........####", "#..................#", "#..................#", "#.#.............#.#",
        "#.#.............#.#", "#.######..######..#", "#..................#", "#..................#", "####################"
    };
    char man5[SO_HANG_MAP][SO_COT_MAP + 1] = {
        "####################", "#..................#", "#.##.##.##.##.##...#", "#..................#",
        "#.##.##.##.##.##...#", "#..................#", "#.##.##.##.##.##...#", "#..................#",
        "#.##.##.##.##.##...#", "#..................#", "#.##.##.##.##.##...#", "#..................#",
        "#.##.##.##.##.##...#", "#..................#", "#.##.##.##.##.##...#", "#..................#", "####################"
    };

public:
    QuanLyGame();
    void taiManChoi(int man);
    bool kiemTraThang();
    void taiBangXepHang();
    void luuBangXepHang();
    void chayGame(int man);
    void chayMenu();
};